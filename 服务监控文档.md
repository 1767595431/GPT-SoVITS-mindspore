# 服务启动与监控说明

## 启动命令

```bash
cd /root/autodl-tmp/GPT-SoVITS/GPT-SoVITS-mindspore
python api_ms.py --device 0 --host 0.0.0.0 --port 9881
```

## 参数与环境变量

| 参数/变量 | 说明 |
| --- | --- |
| `--device <idx>` | Ascend NPU 编号，等效于设置 `infer_device_id`、`ASCEND_DEVICE_ID`。默认 0。 |
| `--host <ip>` | 服务监听地址，默认 `0.0.0.0`。 |
| `--port <port>` | 服务端口，默认 `9881`。 |

## 健康检查

- **接口**：`GET /healthz`
- **示例**：

  ```bash
  curl -s http://<host>:<port>/healthz
  ```

- **响应**：

  ```json
  {
    "status": "ok",
    "index_url": "http://<host>:<port>/index"
  }
  ```

  返回值除了 `status` 外会附带当前服务可访问的 Web 管理页地址，方便在监控/报警中直接打开。


